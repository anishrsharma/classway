{% load static %}

<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>available classes</title>
	<link rel="stylesheet" href="{% static 'css/style_app_classway/app_available_class.css' %}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>
	<div class="user_class_availableclass">
		<!-- <a href="">
			<i class="fa fa-angle-left"></i>
		</a> -->

		<div class="container-class">



			{% if created_class %}


			{% for obj in created_class %}


			<div class="class-box" onclick="getData('{{obj.id}}');">
				<div class="class-box-name">
					<h2>
						{{obj.class_name}}
					</h2>
				</div>

				<div class="class-box-info">
					<ul>
						<li>subject: {{obj.class_subject}}</li>
						<li>students: {{enroll_count}}</li>

						<li>code: {{obj.class_code}}</li>

					</ul>
				</div>

				<div class="options">

					<a href="javascript:void(0)" class="edit">
						<abbr title="edit">
							<i class="material-icons">mode</i>
						</abbr>

					</a>
					<a href="javascript:void(0)" class="delete">
						<abbr title="delete">
							<i class="material-icons">delete_outline</i>
						</abbr>
					</a>


				</div>
			</div>

			{% endfor %}


			{% else %}

			<p>error[no class found]</p>

			{% endif %}

			<!-- </a> -->
			<!-- <a href=""> -->








			<div class="modal-box-delete" id="modal-box-delete">
				<p>do you really want to delete this class A</p>

				<div class="modal-option">
					<button class="btn-modal-yes" type="">yes</button>
					<button class="btn-modal-no" type="">no</button>
				</div>
			</div>

			<div class="modal-box-edit">
				<h4>edit class A</h4>
				<form action="#">
					<input type="text" name="" id="" placeholder="new class name">
					<input type="text" name="" id="" placeholder="new subject name">
					<label for="">
						<input type="checkbox" name="" id="" placeholder="new class name">
						private
					</label>
					<button class="btn-modal-edit">edit</button>
				</form>
			</div>

		</div>
	</div>




	<script>


		function getData(data) {
			$.ajax({
				url: "/app_classway/app_class_details/",
				data: {
					'getdata': JSON.stringify(data)
				},
				dataType: 'json',
				type: 'POST',

				success: function (res, status) {
					console.log('data sent...\nstatus:' + status)
				}

			});

		}


		$(document).ready(function () {


			$('.class-box-name, .class-box-info').click(function () {
				$.ajax({
					url: '/app_classway/app_class_details',

					success: function (result) {
						console.log('success');
						$('.working-area').html(result);
					}
				});
			});

			$('.delete').click(function () {
				$('.modal-box-delete').css({
					"display": "flex"
				});

				$('.class-box').css({
					"opacity": "0.3"
				});
			});

			$('.btn-modal-yes, .btn-modal-no').click(function () {
				$('.modal-box-delete').css({
					"display": "none"
				});

				$('.class-box').css({
					"opacity": "1"
				});
			});


			//--------------

			$('.edit').click(function () {
				$('.modal-box-edit').css({
					"display": "flex"
				});

				$('.class-box').css({
					"opacity": "0.3"
				});
			});

			$('.btn-modal-edit').click(function () {
				$('.modal-box-edit').css({
					"display": "none"
				});

				$('.class-box').css({
					"opacity": "1"
				});
			});

		});


		var drop = true;
		function dropdown(classname) {

			let a = document.getElementById(classname);

			if (drop) {
				a.style.display = 'flex';

			} else {
				a.style.display = 'none';

			}

			drop = !drop;
			console.log('dropdown fn executed');

		}


	</script>




</body>

</html>